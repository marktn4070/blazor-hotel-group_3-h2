@page "/dashboard/roomtype/delete/{roomtypeId:int}"
@inject Blazor.Services.APIService ApiService
@inject NavigationManager Navigation

<h3>Delete room</h3>

@if (roomtype == null)
{
    <p><em>Loading hotel details...</em></p>
}
else
{
    <div class="alert alert-warning">
        <h5>Are you sure you want to delete this hotel?</h5>
        <p><strong>@roomtype.Name</strong></p>
    </div>

    <button class="btn btn-danger" @onclick="ConfirmDelete">Yes, Delete</button>
    <button class="btn btn-secondary" @onclick="Cancel">Cancel</button>
}

@code {
    [Parameter] public int roomtypeId { get; set; }
    private RoomtypeGetDto? roomtype;

    protected override async Task OnInitializedAsync()
    {
        roomtype = await ApiService.GetRoomType(roomtypeId);
    }

    private async Task ConfirmDelete()
    {
        await ApiService.DeleteRoomType(roomtypeId);
        Navigation.NavigateTo("/dashboard/roomtype");
    }

    private void Cancel()
    {
        Navigation.NavigateTo("/dashboard/roomtype");
    }
}